<div class="max-w-4xl mx-auto p-6 bg-white shadow-lg rounded-xl">
  <!-- Header Section -->
  <div class="flex justify-between items-center mb-6 border-b pb-4">
    <h2 class="text-3xl font-semibold text-gray-800">Tax Filing Request</h2>
    <button
      class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md shadow-md transition duration-300 transform hover:scale-105"
      (click)="openModal()"
    >
      <span class="text-lg">File New Tax Declaration Request</span>
    </button>
  </div>

  <!-- No Data Message -->
  <div *ngIf="taxFilings.length === 0" class="text-center text-gray-500 py-8">
    <p class="text-xl">No tax filings have been submitted yet.</p>
  </div>

  <!-- Tax Filings List -->
  <div *ngFor="let filing of taxFilings" class="bg-white shadow-lg rounded-xl p-6 mb-6 hover:shadow-xl transition duration-300">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-2xl font-semibold text-gray-800">{{ filing.businessName }}</h3>
      <button
        (click)="confirmDelete(filing.id)"
        class="text-red-600 hover:text-red-700 font-semibold px-4 py-2 rounded-md border border-red-600 hover:bg-red-100 transition duration-300"
      >
        Delete
      </button>
    </div>

    <div class="space-y-3 text-gray-700">
      <p><strong>Business ID:</strong> {{ filing.businessId }}</p>
      <p><strong>Full Name:</strong> {{ filing.fullName }}</p>
      <p><strong>For Year:</strong> {{ filing.forYear }}</p>
      <p><strong>Line of Business:</strong> {{ filing.lineOfBusiness }}</p>
      <p><strong>Type of Business:</strong> {{ filing.typeOfBusiness }}</p>
      <p><strong>No. of Employees:</strong> {{ filing.noOfEmployees }}</p>
      <p><strong>Date Registered:</strong> {{ filing.dateRegistered || 'N/A' }}</p>

      <p [ngClass]="{
            'text-green-600': filing.status === 'Approved',
            'text-yellow-600': filing.status === 'Pending',
            'text-red-600': filing.status === 'Declined'
          }"
      >
        <strong>Status:</strong>
        <span [ngClass]="{
            'bg-green-100': filing.status === 'Approved',
            'bg-yellow-100': filing.status === 'Pending',
            'bg-red-100': filing.status === 'Declined'
          }"
          class="px-2 py-1 rounded-full"
        >
          {{ filing.status || 'N/A' }}
        </span>
      </p>
    </div>
  </div>
</div>
<!-- Modal for New Tax Declaration -->
<div *ngIf="showModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-auto">
  <div class="relative bg-white rounded-xl p-8 shadow-2xl ring-1 ring-gray-800 max-w-3xl w-full bg-cover overflow-y-auto max-h-[100vh]">
    <!-- Close Button (Top-right corner) -->
    <button
      (click)="closeModal()"
      class="absolute top-4 right-4 text-white bg-red-600 hover:bg-red-700 px-3 py-1 rounded-full shadow-md"
    >
      ✖
    </button>

    <h2 class="text-2xl font-semibold mb-6 text-gray-800">New Tax Declaration</h2>
  </div>
</div>

<!-- Modal for Deleting All Tax Filings -->
<div *ngIf="showDeleteConfirmation" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-auto">
  <div class="relative bg-white rounded-xl p-8 shadow-2xl ring-1 ring-gray-800 max-w-3xl w-full bg-cover overflow-y-auto max-h-[100vh]" style="background-image: url('assets/images/paper.jpg');">
    <!-- Close Button (Top-right corner) -->
    <button
      (click)="closeDeleteConfirmation()"
      class="absolute top-4 right-4 text-white bg-red-600 hover:bg-red-700  px-3 py-1 rounded-full shadow-md"
    >
      ✖
    </button>

    <h2 class="text-2xl font-semibold mb-6 text-gray-800">Confirm Deletion</h2>

    <p class="text-lg mb-6 text-gray-700">Are you sure you want to delete all tax filings? This action cannot be undone.</p>

    <div class="flex justify-end gap-4">
      <button
        (click)="deleteAllFilings()"
        class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-md shadow-md transition duration-300"
      >
        Delete All
      </button>
      <button
        (click)="closeDeleteConfirmation()"
        class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-md shadow-md transition duration-300"
      >
        Cancel
      </button>
    </div>
  </div>
</div>
